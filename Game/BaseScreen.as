package Game{	import flash.display.Sprite;	import flash.display.Bitmap;	import flash.display.BitmapData;	import flash.events.Event;			public class BaseScreen extends Sprite	{		private var inc:Number = 3;		private var onReady:Function;		private var onClose:Function;		private var onTransitionComplete:Function;				public function BaseScreen(image:BitmapData, _onReady:Function, _onTransitionComplete:Function = null) 		{			var bg:Bitmap = new Bitmap(image);			bg.y = 400;			addChild(bg);						y = -400;			onReady = _onReady;			onTransitionComplete = _onTransitionComplete;						addEventListener(Event.ADDED_TO_STAGE, initialize, false, 0, true);		}				private function initialize(e:Event):void		{						addEventListener(Event.ENTER_FRAME, transition, false, 0, true);						if(onReady != null)				onReady();		}				private function transition(e:Event):void		{			if(y + inc < 0)			{				y += inc;				inc *= 1.2;				return;			}						y = 0;			removeEventListener(Event.ENTER_FRAME, transition, false);							if(onTransitionComplete != null)				onTransitionComplete();		}				public function close(_onClose:Function):void		{			inc = 3;			onClose = _onClose;			addEventListener(Event.ENTER_FRAME, transitionOut, false, 0, true);		}				private function transitionOut(e:Event):void		{			if(y - inc > -400)			{				y -= inc;				inc *= 1.2;				return;			}						removeEventListener(Event.ENTER_FRAME, transitionOut, false);			parent.removeChild(this);						if(onClose != null)				onClose();		}	}}
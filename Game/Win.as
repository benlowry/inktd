package Game{		import flash.display.MovieClip;	import flash.display.Bitmap;		import flash.display.BitmapData;		import flash.events.Event;	import flash.events.MouseEvent;	public final class Win extends BaseScreen	{		public var w:Game.World;		public var endscreen:EndScreen;				public function Win(_w:Game.World, _image:BitmapData)		{			super(_image, initializeComplete);			w = _w;		}		private function initializeComplete():void		{			endscreen = new EndScreen(w, endLivesBonus, endKillsBonus, endWavesBonus, endMoneyBonus, livesBonus, killsBonus, wavesBonus, moneyBonus, total);				  			keepPlayingButton.label.text = "KEEP PLAYING";			keepPlayingButton.addEventListener(MouseEvent.CLICK, keepPlaying, false, 0, true);						submitButton.label.text = "SUBMIT SCORE";			submitButton.addEventListener(MouseEvent.CLICK, submit, false, 0, true);			quitButton.label.text = "BACK TO MENU";			quitButton.addEventListener(MouseEvent.CLICK, back, false, 0, true);		}			private function submit(e:MouseEvent):void		{		}				private function keepPlaying(e:MouseEvent):void		{			var oldwaves:int = w.waveTarget;						if(w.waveTarget == 10)			{				w.waveTarget = 50;				w.waves = Wave.generate(50);				w.waves.splice(0, 10);			}			else if(w.waveTarget == 50)			{				w.waveTarget = 100;				w.waves = Wave.generate(100);				w.waves.splice(0, 50);			}			else			{				w.waves = Wave.generate(100);								for each(var wave:Wave in w.waves)					wave.num += w.waveTarget;				w.waveTarget += 100;			}						parent.removeChild(this);			w.pause = false;			w.visible = true;			w.waveIndicator.setupMore(w.waves);			w.waveLabel.text = oldwaves + "/" + w.waveTarget;		}				private function back(e:MouseEvent):void		{			w.dispose();			endscreen.dispose();			parent.addChild(new Menu(Screenshot.create()));						parent.removeChild(this);		}	}}